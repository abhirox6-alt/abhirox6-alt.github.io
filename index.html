<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Draconic Brand Document Generator</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://unpkg.com/mammoth@1.6.0/mammoth.browser.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,400;12..96,700&display=swap');
    
    :root {
      --draconic-orange: #FF6D00;
      --draconic-dark: #1f1108;
      --draconic-brown-1: #54301e;
      --draconic-brown-2: #825037;
      --draconic-brown-3: #876959;
      --draconic-light: #f7d9cb;
      --draconic-accent: #e2ab8d;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Bricolage Grotesque', sans-serif;
      background: var(--draconic-dark);
      color: var(--draconic-light);
      line-height: 1.6;
      min-height: 100vh;
    }

    .generator-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px;
    }

    .generator-header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 3px solid var(--draconic-orange);
    }

    .logo-container {
      margin-bottom: 20px;
    }

    .dragon-logo {
      width: 300px;
      height: auto;
      margin: 0 auto 20px;
      display: block;
    }


    .generator-header h1 {
      color: var(--draconic-orange);
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .generator-header p {
      color: var(--draconic-accent);
      font-size: 1.1rem;
    }

    .upload-section {
      background: rgba(255, 255, 255, 0.03);
      border: 3px dashed var(--draconic-brown-2);
      border-radius: 12px;
      padding: 60px;
      text-align: center;
      margin-bottom: 40px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .upload-section:hover,
    .upload-section.drag-over {
      border-color: var(--draconic-orange);
      background: rgba(255, 109, 0, 0.05);
    }

    .upload-section h2 {
      color: var(--draconic-orange);
      margin-bottom: 10px;
    }

    .upload-section p {
      color: var(--draconic-accent);
      margin-bottom: 20px;
    }

    input[type="file"] {
      display: none;
    }

    .file-types {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 20px;
    }

    .file-type {
      background: var(--draconic-brown-2);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
    }

    .controls {
      display: none;
      margin-bottom: 40px;
      gap: 20px;
      align-items: center;
      justify-content: center;
    }

    .controls.active {
      display: flex;
    }

    button {
      background: var(--draconic-orange);
      color: var(--draconic-dark);
      border: none;
      padding: 12px 32px;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(255, 109, 0, 0.5);
    }

    .filename {
      color: var(--draconic-accent);
      font-size: 1.1rem;
    }

    .status {
      text-align: center;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      display: none;
    }

    .status.success {
      background: rgba(0, 255, 0, 0.1);
      border: 1px solid rgba(0, 255, 0, 0.3);
      color: #4ade80;
    }

    .status.error {
      background: rgba(255, 0, 0, 0.1);
      border: 1px solid rgba(255, 0, 0, 0.3);
      color: #f87171;
    }
  </style>
</head>
<body>
  <div class="generator-container">
    <div class="generator-header">
      <div class="logo-container">
        <!-- Complete Draconic Logo with Symbol and Typemark -->
        <svg class="dragon-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 472.12 95.44">
          <g>
            <rect fill="#ff6d00" x="63.49" y="92.1" width="3.5" height="3.34"/>
            <rect fill="#ff6d00" x="63.49" y="8.03" width="3.5" height="5.66"/>
            <rect fill="#ff6d00" x="63.49" y="19.02" width="3.5" height="38.79"/>
            <rect fill="#ff6d00" x="70.5" y="13.7" width="3.5" height="9.42"/>
            <rect fill="#ff6d00" x="70.5" y="42.19" width="3.5" height="33.39"/>
            <rect fill="#ff6d00" x="42.11" y="23.12" width="3.5" height="38.88"/>
            <rect fill="#ff6d00" x="42.11" y="84.64" width="3.5" height="10.8"/>
            <rect fill="#ff6d00" x="42.11" y="8.03" width="3.5" height="2.42"/>
            <rect fill="#ff6d00" x="35.09" y="19.02" width="3.5" height="22.76"/>
            <rect fill="#ff6d00" x="35.09" y="45.64" width="3.5" height="16.36"/>
            <rect fill="#ff6d00" x="35.09" y="88.96" width="3.5" height="6.47"/>
            <rect fill="#ff6d00" x="35.09" y="72.65" width="3.5" height="2.93"/>
            <rect fill="#ff6d00" x="56.47" y="90.37" width="3.5" height="5.07"/>
            <rect fill="#ff6d00" x="56.47" y="2.99" width="3.5" height="59.01"/>
            <rect fill="#ff6d00" x="56.47" y="72.65" width="3.5" height="2.93"/>
            <rect fill="#ff6d00" x="76.92" y="19.02" width="3.5" height="8.21"/>
            <rect fill="#ff6d00" x="76.92" y="72.65" width="3.5" height="2.93"/>
            <rect fill="#ff6d00" x="28.08" y="13.7" width="3.5" height="27.06"/>
            <rect fill="#ff6d00" x="28.08" y="48.07" width="3.5" height="27.51"/>
            <rect fill="#ff6d00" x="28.08" y="92.02" width="3.5" height="3.42"/>
            <rect fill="#ff6d00" x="21.06" y="10.48" width="3.5" height="30.25"/>
            <rect fill="#ff6d00" x="21.06" y="88.74" width="3.5" height="6.7"/>
            <rect fill="#ff6d00" x="21.06" y="52.29" width="3.5" height="12.7"/>
            <rect fill="#ff6d00" x="14.04" y="82.36" width="3.5" height="10.17"/>
            <rect fill="#ff6d00" x="14.04" y="56.58" width="3.5" height="14.66"/>
            <rect fill="#ff6d00" x="14.04" y="13.7" width="3.5" height="28.73"/>
            <rect fill="#ff6d00" x="7.02" y="20.89" width="3.5" height="23.83"/>
            <rect fill="#ff6d00" x="7.02" y="62" width="3.5" height="26.74"/>
            <rect fill="#ff6d00" y="31.51" width="3.5" height="16.73"/>
            <rect fill="#ff6d00" x="49.45" y="29.57" width="3.5" height="46.02"/>
            <rect fill="#ff6d00" x="49.45" y="8.03" width="3.5" height="5.66"/>
            <rect fill="#ff6d00" x="49.13" y="88.74" width="3.5" height="6.7"/>
            <rect fill="#ff6d00" x="49.45" width="3.5" height="2.99"/>
          </g>
          <g>
            <path fill="#ff6d00" d="M143.53,22.58h-7.07v-3.53h-35.33v56.53h35.33v-3.53h7.07v-3.53h3.53V26.12h-3.53v-3.53ZM136.47,68.51h-3.53v3.53h-21.2V22.58h21.2v3.53h3.53v42.4Z"/>
            <polygon fill="#ff6d00" points="387.32 19.05 387.32 57.92 383.79 57.92 383.79 50.85 380.25 50.85 380.25 43.78 376.72 43.78 376.72 36.72 373.19 36.72 373.19 29.65 369.66 29.65 369.66 22.58 366.12 22.58 366.12 19.05 355.52 19.05 355.52 75.58 366.12 75.58 366.12 33.18 369.66 33.18 369.66 40.25 373.19 40.25 373.19 47.32 376.72 47.32 376.72 54.38 380.25 54.38 380.25 61.45 383.79 61.45 383.79 68.51 387.32 68.51 387.32 75.58 397.92 75.58 397.92 19.05 387.32 19.05"/>
            <polygon fill="#ff6d00" points="245.99 22.58 242.46 22.58 242.46 19.05 214.2 19.05 214.2 22.58 210.66 22.58 210.66 26.12 207.13 26.12 207.13 75.58 217.73 75.58 217.73 50.85 221.26 50.85 221.26 47.32 217.73 47.32 217.73 26.12 221.26 26.12 221.26 22.58 235.39 22.58 235.39 26.12 238.93 26.12 238.93 47.32 235.39 47.32 235.39 50.85 238.93 50.85 238.93 75.58 249.53 75.58 249.53 26.12 245.99 26.12 245.99 22.58"/>
            <rect fill="#ff6d00" x="221.26" y="43.78" width="14.13" height="3.53"/>
            <path fill="#ff6d00" d="M196.53,22.58h-7.07v-3.53h-35.33v56.53h10.6v-24.73h21.2v3.53h3.53v21.2h10.6v-17.67h-3.53v-3.53h-3.53v-3.53h-3.53v-3.53h7.07v-3.53h3.53v-17.67h-3.53v-3.53ZM189.46,43.78h-3.53v3.53h-21.2v-24.73h21.2v3.53h3.53v17.67Z"/>
            <polygon fill="#ff6d00" points="295.46 22.58 291.93 22.58 291.93 19.05 263.66 19.05 263.66 22.58 260.13 22.58 260.13 26.12 256.59 26.12 256.59 68.51 260.13 68.51 260.13 72.05 263.66 72.05 263.66 75.58 291.93 75.58 291.93 72.05 295.46 72.05 295.46 68.51 298.99 68.51 298.99 54.38 288.39 54.38 288.39 68.51 284.86 68.51 284.86 72.05 270.73 72.05 270.73 68.51 267.19 68.51 267.19 26.12 270.73 26.12 270.73 22.58 284.86 22.58 284.86 26.12 288.39 26.12 288.39 40.25 298.99 40.25 298.99 26.12 295.46 26.12 295.46 22.58"/>
            <polygon fill="#ff6d00" points="472.12 40.25 472.12 26.12 468.58 26.12 468.58 22.58 465.05 22.58 465.05 19.05 436.79 19.05 436.79 22.58 433.25 22.58 433.25 26.12 429.72 26.12 429.72 68.51 433.25 68.51 433.25 72.05 436.79 72.05 436.79 75.58 465.05 75.58 465.05 72.05 468.58 72.05 468.58 68.51 472.12 68.51 472.12 54.38 461.52 54.38 461.52 68.51 457.98 68.51 457.98 72.05 443.85 72.05 443.85 68.51 440.32 68.51 440.32 26.12 443.85 26.12 443.85 22.58 457.98 22.58 457.98 26.12 461.52 26.12 461.52 40.25 472.12 40.25"/>
            <path fill="#ff6d00" d="M344.92,22.58h-3.53v-3.53h-28.27v3.53h-3.53v3.53h-3.53v42.4h3.53v3.53h3.53v3.53h28.27v-3.53h3.53v-3.53h3.53V26.12h-3.53v-3.53ZM337.86,68.51h-3.53v3.53h-14.13v-3.53h-3.53V26.12h3.53v-3.53h14.13v3.53h3.53v42.4Z"/>
            <polygon fill="#ff6d00" points="404.99 19.05 404.99 22.58 408.52 22.58 408.52 72.05 404.99 72.05 404.99 75.58 422.65 75.58 422.65 72.05 419.12 72.05 419.12 22.58 422.65 22.58 422.65 19.05 404.99 19.05"/>
          </g>
        </svg>
      </div>
      <h1>Brand Document Generator</h1>
      <p>Transform any document into Draconic-branded HTML</p>
    </div>

    <div class="upload-section" id="uploadArea">
      <h2>Upload Your Document</h2>
      <p>Drag & drop or click to select</p>
      <input type="file" id="fileInput" accept=".md,.markdown,.docx,.doc,.txt">
      <div class="file-types">
        <span class="file-type">.md</span>
        <span class="file-type">.markdown</span>
        <span class="file-type">.docx</span>
        <span class="file-type">.txt</span>
      </div>
    </div>

    <div class="controls" id="controls">
      <span class="filename" id="filename"></span>
      <button onclick="generateAndDownload()">Generate & Download HTML</button>
    </div>

    <div id="status" class="status"></div>
  </div>

  <script>
    let currentContent = '';
    let currentFilename = '';
    let generatedHTML = '';

    // File upload handling
    const uploadArea = document.getElementById('uploadArea');
    const fileInput = document.getElementById('fileInput');
    const controls = document.getElementById('controls');
    const filename = document.getElementById('filename');
    const status = document.getElementById('status');

    uploadArea.addEventListener('click', () => fileInput.click());

    uploadArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadArea.classList.add('drag-over');
    });

    uploadArea.addEventListener('dragleave', () => {
      uploadArea.classList.remove('drag-over');
    });

    uploadArea.addEventListener('drop', (e) => {
      e.preventDefault();
      uploadArea.classList.remove('drag-over');
      handleFile(e.dataTransfer.files[0]);
    });

    fileInput.addEventListener('change', (e) => {
      handleFile(e.target.files[0]);
    });

    function showStatus(message, type) {
      status.textContent = message;
      status.className = `status ${type}`;
      status.style.display = 'block';
      setTimeout(() => {
        status.style.display = 'none';
      }, 3000);
    }

    async function handleFile(file) {
      if (!file) return;

      currentFilename = file.name.replace(/\.[^/.]+$/, '');
      filename.textContent = file.name;

      const extension = file.name.split('.').pop().toLowerCase();

      try {
        if (extension === 'md' || extension === 'markdown' || extension === 'txt') {
          const reader = new FileReader();
          reader.onload = (e) => {
            currentContent = e.target.result;
            controls.classList.add('active');
            showStatus('File loaded successfully', 'success');
          };
          reader.readAsText(file);
        } else if (extension === 'docx' || extension === 'doc') {
          const reader = new FileReader();
          reader.onload = async (e) => {
            try {
              const arrayBuffer = e.target.result;
              const result = await mammoth.convertToHtml({ arrayBuffer: arrayBuffer });
              currentContent = htmlToMarkdown(result.value);
              controls.classList.add('active');
              showStatus('DOCX file converted successfully', 'success');
            } catch (error) {
              showStatus('Error reading DOCX file', 'error');
            }
          };
          reader.readAsArrayBuffer(file);
        } else {
          showStatus('Unsupported file type', 'error');
        }
      } catch (error) {
        showStatus('Error reading file', 'error');
      }
    }

    function htmlToMarkdown(html) {
      return html
        .replace(/<h1[^>]*>(.*?)<\/h1>/gi, '# $1\n\n')
        .replace(/<h2[^>]*>(.*?)<\/h2>/gi, '## $1\n\n')
        .replace(/<h3[^>]*>(.*?)<\/h3>/gi, '### $1\n\n')
        .replace(/<h4[^>]*>(.*?)<\/h4>/gi, '#### $1\n\n')
        .replace(/<p[^>]*>(.*?)<\/p>/gi, '$1\n\n')
        .replace(/<br[^>]*>/gi, '\n')
        .replace(/<strong[^>]*>(.*?)<\/strong>/gi, '**$1**')
        .replace(/<b[^>]*>(.*?)<\/b>/gi, '**$1**')
        .replace(/<em[^>]*>(.*?)<\/em>/gi, '*$1*')
        .replace(/<i[^>]*>(.*?)<\/i>/gi, '*$1*')
        .replace(/<ul[^>]*>(.*?)<\/ul>/gis, (match, content) => {
          return content.replace(/<li[^>]*>(.*?)<\/li>/gi, '- $1\n') + '\n';
        })
        .replace(/<ol[^>]*>(.*?)<\/ol>/gis, (match, content) => {
          let counter = 1;
          return content.replace(/<li[^>]*>(.*?)<\/li>/gi, () => {
            return `${counter++}. $1\n`;
          }) + '\n';
        })
        .replace(/<[^>]+>/g, '');
    }

    function generateAndDownload() {
      if (!currentContent) {
        showStatus('No content to generate', 'error');
        return;
      }

      const htmlContent = marked.parse(currentContent);

      generatedHTML = `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${currentFilename} - Draconic</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,400;12..96,700&display=swap');
    
    /* Try to load Reckless font from CDN or fallback to serif */
    @import url('https://fonts.cdnfonts.com/css/reckless');
    
    :root {
      --draconic-orange: #FF6D00;
      --draconic-dark: #1f1108;
      --draconic-brown-1: #54301e;
      --draconic-brown-2: #825037;
      --draconic-brown-3: #876959;
      --draconic-light: #f7d9cb;
      --draconic-accent: #e2ab8d;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Bricolage Grotesque', sans-serif;
      background: var(--draconic-dark);
      color: var(--draconic-light);
      line-height: 1.6;
      font-weight: 400;
      padding: 40px;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 3px solid var(--draconic-orange);
    }

    .dragon-logo {
      width: 60px;
      height: auto;
      margin: 0 auto 10px;
      display: block;
    }

    .logo-text {
      font-size: 48px;
      font-weight: 800;
      color: var(--draconic-orange);
      letter-spacing: -0.02em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .tagline {
      color: var(--draconic-accent);
      font-size: 0.9rem;
    }

    .content {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 2rem;
      margin: 0 auto 40px;
      max-width: 1200px;
    }

    h1, h2, h3 {
      font-family: 'Reckless', Georgia, serif;
      font-weight: 300;
      color: var(--draconic-orange);
      margin: 1.5rem 0 1rem;
    }

    h1 { 
      font-size: 1.8rem; 
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }
    
    h2 { 
      font-size: 1.6rem; 
      border-left: 4px solid var(--draconic-orange);
      padding-left: 1rem;
      background: linear-gradient(90deg, rgba(255, 109, 0, 0.1) 0%, transparent 50%);
    }
    
    h3 { 
      font-size: 1.3rem;
      color: var(--draconic-accent);
    }

    h4 {
      font-size: 1.1rem;
      color: var(--draconic-light);
      margin: 1rem 0 0.5rem;
    }

    p {
      margin-bottom: 1rem;
      color: var(--draconic-light);
    }

    code {
      background: rgba(0, 0, 0, 0.3);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: 'Monaco', 'Consolas', monospace;
      color: var(--draconic-orange);
    }

    pre {
      background: rgba(0, 0, 0, 0.3);
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1rem 0;
      border-left: 4px solid var(--draconic-orange);
    }

    pre code {
      background: none;
      padding: 0;
      color: var(--draconic-light);
    }

    blockquote {
      border-left: 4px solid var(--draconic-orange);
      padding-left: 1rem;
      margin: 1rem 0;
      color: var(--draconic-accent);
      font-style: italic;
      background: rgba(255, 109, 0, 0.05);
      padding: 1rem;
    }

    ul, ol {
      margin: 1rem 0 1rem 2rem;
    }

    li {
      margin-bottom: 0.5rem;
    }

    strong, b {
      color: var(--draconic-orange);
      font-weight: 700;
    }

    em, i {
      color: var(--draconic-accent);
    }

    a {
      color: var(--draconic-orange);
      text-decoration: underline;
    }

    hr {
      border: none;
      height: 2px;
      background: var(--draconic-orange);
      margin: 2rem 0;
      opacity: 0.3;
    }

    table {
      width: 100%;
      margin: 1.5rem 0;
      border-collapse: collapse;
    }

    th {
      background: rgba(255, 109, 0, 0.15);
      color: var(--draconic-light);
      font-weight: 600;
      padding: 12px;
      text-align: left;
      border-bottom: 2px solid var(--draconic-orange);
    }

    td {
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    tr:nth-child(even) {
      background: rgba(255, 255, 255, 0.02);
    }

    .footer {
      text-align: center;
      padding-top: 40px;
      margin-top: 60px;
      border-top: 2px solid var(--draconic-accent);
      color: var(--draconic-accent);
    }
  </style>
</head>
<body>
  <div class="header">
    <img class="dragon-logo" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4MCA5NS40NCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmNmQwMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkxheWVyXzEtMiIgZGF0YS1uYW1lPSJMYXllciAxIj4KICAgIDxnPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjYzLjQ5IiB5PSI5Mi4xIiB3aWR0aD0iMy41IiBoZWlnaHQ9IjMuMzQiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI2My40OSIgeT0iOC4wMyIgd2lkdGg9IjMuNSIgaGVpZ2h0PSI1LjY2Ii8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNjMuNDkiIHk9IjE5LjAyIiB3aWR0aD0iMy41IiBoZWlnaHQ9IjM4Ljc5Ii8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNzAuNSIgeT0iMTMuNyIgd2lkdGg9IjMuNSIgaGVpZ2h0PSI5LjQyIi8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNzAuNSIgeT0iNDIuMTkiIHdpZHRoPSIzLjUiIGhlaWdodD0iMzMuMzkiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI0Mi4xMSIgeT0iMjMuMTIiIHdpZHRoPSIzLjUiIGhlaWdodD0iMzguODgiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI0Mi4xMSIgeT0iODQuNjQiIHdpZHRoPSIzLjUiIGhlaWdodD0iMTAuOCIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjQyLjExIiB5PSI4LjAzIiB3aWR0aD0iMy41IiBoZWlnaHQ9IjIuNDIiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIzNS4wOSIgeT0iMTkuMDIiIHdpZHRoPSIzLjUiIGhlaWdodD0iMjIuNzYiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIzNS4wOSIgeT0iNDUuNjQiIHdpZHRoPSIzLjUiIGhlaWdodD0iMTYuMzYiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIzNS4wOSIgeT0iODguOTYiIHdpZHRoPSIzLjUiIGhlaWdodD0iNi40NyIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjM1LjA5IiB5PSI3Mi42NSIgd2lkdGg9IjMuNSIgaGVpZ2h0PSIyLjkzIi8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNTYuNDciIHk9IjkwLjM3IiB3aWR0aD0iMy41IiBoZWlnaHQ9IjUuMDciLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI1Ni40NyIgeT0iMi45OSIgd2lkdGg9IjMuNSIgaGVpZ2h0PSI1OS4wMSIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjU2LjQ3IiB5PSI3Mi42NSIgd2lkdGg9IjMuNSIgaGVpZ2h0PSIyLjkzIi8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNzYuOTIiIHk9IjE5LjAyIiB3aWR0aD0iMy41IiBoZWlnaHQ9IjguMjEiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI3Ni45MiIgeT0iNzIuNjUiIHdpZHRoPSIzLjUiIGhlaWdodD0iMi45MyIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjI4LjA4IiB5PSIxMy43IiB3aWR0aD0iMy41IiBoZWlnaHQ9IjI3LjA2Ii8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iMjguMDgiIHk9IjQ4LjA3IiB3aWR0aD0iMy41IiBoZWlnaHQ9IjI3LjUxIi8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iMjguMDgiIHk9IjkyLjAyIiB3aWR0aD0iMy41IiBoZWlnaHQ9IjMuNDIiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIyMS4wNiIgeT0iMTAuNDgiIHdpZHRoPSIzLjUiIGhlaWdodD0iMzAuMjUiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIyMS4wNiIgeT0iODguNzQiIHdpZHRoPSIzLjUiIGhlaWdodD0iNi43Ii8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iMjEuMDYiIHk9IjUyLjI5IiB3aWR0aD0iMy41IiBoZWlnaHQ9IjEyLjciLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIxNC4wNCIgeT0iODIuMzYiIHdpZHRoPSIzLjUiIGhlaWdodD0iMTAuMTciLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIxNC4wNCIgeT0iNTYuNTgiIHdpZHRoPSIzLjUiIGhlaWdodD0iMTQuNjYiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIxNC4wNCIgeT0iMTMuNyIgd2lkdGg9IjMuNSIgaGVpZ2h0PSIyOC43MyIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjcuMDIiIHk9IjIwLjg5IiB3aWR0aD0iMy41IiBoZWlnaHQ9IjIzLjgzIi8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNy4wMiIgeT0iNjIiIHdpZHRoPSIzLjUiIGhlaWdodD0iMjYuNzQiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB5PSIzMS41MSIgd2lkdGg9IjMuNSIgaGVpZ2h0PSIxNi43MyIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjQ5LjQ1IiB5PSIyOS41NyIgd2lkdGg9IjMuNSIgaGVpZ2h0PSI0Ni4wMiIvPgogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjQ5LjQ1IiB5PSI4LjAzIiB3aWR0aD0iMy41IiBoZWlnaHQ9IjUuNjYiLz4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI0OS4xMyIgeT0iODguNzQiIHdpZHRoPSIzLjUiIGhlaWdodD0iNi43Ii8+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNDkuNDUiIHdpZHRoPSIzLjUiIGhlaWdodD0iMi45OSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+" alt="Draconic Dragon">
    <div class="logo-text">DRACONIC</div>
    <div class="tagline">AI Trading Intelligence</div>
  </div>

  <div class="content">
    ${htmlContent}
  </div>

  <div class="footer">
    <div>© ${new Date().getFullYear()} Draconic AI</div>
  </div>
</body>
</html>`;

      // Download the file
      const blob = new Blob([generatedHTML], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `${currentFilename}-draconic.html`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showStatus('HTML file downloaded successfully!', 'success');
    }
  </script>
</body>
</html>